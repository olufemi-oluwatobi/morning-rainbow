{"openapi":"3.1.0","info":{"title":"Enhanced Job Match API","description":"\nAPI for intelligent job matching, CV generation, and cover letter creation.\n\nKey Features:\n- Job board creation and management\n- AI-powered CV and cover letter generation\n- Intelligent job matching with similarity scoring\n- Profile and CV management\n- Automatic job refreshing\n- Board analytics\n- Similar board recommendations\n\nAll dates should be in ISO format (YYYY-MM-DDTHH:MM:SSZ).\n    ","version":"1.0.0"},"paths":{"/users":{"post":{"tags":["Users"],"summary":"Create User","description":"Create a new user with auto-generated ID","operationId":"create_user_users_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/profiles":{"post":{"tags":["Profiles"],"summary":"Create Or Update Profile","description":"Store or update user job profile information","operationId":"create_or_update_profile_profiles_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Profile"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/boards":{"get":{"tags":["Boards"],"summary":"Get All Boards","description":"Get all boards from the database","operationId":"get_all_boards_boards_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["Boards"],"summary":"Create Board","description":"Create a new job board from natural language prompt","operationId":"create_board_boards_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BoardCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Valazidation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cv":{"post":{"tags":["CV Management"],"summary":"Upload Cv","description":"Upload and store a CV PDF without extracting text","operationId":"upload_cv_cv_post","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"string","title":"User Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_cv_cv_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/cv/{cv_id}/text":{"get":{"tags":["CV Management"],"summary":"Get Cv Text","description":"Retrieve and return text from a stored CV PDF","operationId":"get_cv_text_cv__cv_id__text_get","parameters":[{"name":"cv_id","in":"path","required":true,"schema":{"type":"string","title":"Cv Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/boards/{board_id}/jobs":{"get":{"tags":["Jobs"],"summary":"Get Board Jobs","description":"Get all jobs for a board with match scores and similar boards","operationId":"get_board_jobs_boards__board_id__jobs_get","parameters":[{"name":"board_id","in":"path","required":true,"schema":{"type":"string","title":"Board Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BoardJobsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/boards/{board_id}/analytics":{"get":{"tags":["Analytics"],"summary":"Get Board Analytics","description":"Get board analytics including salary and CV strength","operationId":"get_board_analytics_boards__board_id__analytics_get","parameters":[{"name":"board_id","in":"path","required":true,"schema":{"type":"string","title":"Board Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BoardAnalytics"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/generate-cv":{"post":{"tags":["CV Generation"],"summary":"Generate Cv","description":"Generate an optimized CV for a specific job using board context","operationId":"generate_cv_generate_cv_post","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"job_id","in":"query","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"board_id","in":"query","required":true,"schema":{"type":"string","title":"Board Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CVResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/generate-cover-letter":{"post":{"tags":["Cover Letter Generation"],"summary":"Generate Cover Letter","description":"Generate a targeted cover letter for a specific job using board context","operationId":"generate_cover_letter_generate_cover_letter_post","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"job_id","in":"query","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"board_id","in":"query","required":true,"schema":{"type":"string","title":"Board Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoverLetterResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs":{"get":{"tags":["Jobs"],"summary":"Get All Jobs","description":"Get all jobs from the database\n\nReturns:\n    List[JobPost]: List of all jobs with their details","operationId":"get_all_jobs_jobs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/JobPost"},"type":"array","title":"Response Get All Jobs Jobs Get"}}}}}}},"/users/{user_id}/profile":{"get":{"tags":["Users"],"summary":"Get User Profile","description":"Get complete user profile including boards and CVs","operationId":"get_user_profile_users__user_id__profile_get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/boards/{board_id}/cv":{"post":{"tags":["Boards"],"summary":"Attach Cv To Board","description":"Attach a CV to a board for enhanced matching","operationId":"attach_cv_to_board_boards__board_id__cv_post","parameters":[{"name":"board_id","in":"path","required":true,"schema":{"type":"string","title":"Board Id"}},{"name":"cv_id","in":"query","required":true,"schema":{"type":"string","title":"Cv Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/test/board-create":{"post":{"tags":["Testing"],"summary":"Test Board Create","description":"Test endpoint for board creation and job matching","operationId":"test_board_create_test_board_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestBoardCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Test Board Create Test Board Create Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/test/full-setup":{"post":{"tags":["Testing"],"summary":"Test Full Setup","description":"Complete test endpoint that:\n1. Creates a board from prompt\n2. Adds users\n3. Attaches CV\n4. Reads CV\n5. Returns test results and task status\n\nReturns:\n    dict: Test results including created resources and status","operationId":"test_full_setup_test_full_setup_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/test/complete-flow":{"post":{"tags":["Testing"],"summary":"Test Complete Flow","description":"Test endpoint that demonstrates complete flow:\n1. Creates board from prompt\n2. Sources jobs\n3. Scores jobs\n4. Returns detailed results","operationId":"test_complete_flow_test_complete_flow_post","parameters":[{"name":"prompt","in":"query","required":true,"schema":{"type":"string","title":"Prompt"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/boards/fast-track":{"post":{"tags":["Boards"],"summary":"Create Fast Track Board","description":"Create a board with immediate title/description and queued search","operationId":"create_fast_track_board_boards_fast_track_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FastTrackBoardCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"BoardAnalytics":{"properties":{"last_updated":{"type":"string","format":"date-time","title":"Last Updated"},"total_jobs":{"type":"integer","title":"Total Jobs"},"avg_min_salary":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Avg Min Salary"},"avg_max_salary":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Avg Max Salary"},"lowest_salary":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Lowest Salary"},"highest_salary":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Highest Salary"},"jobs_with_salary":{"type":"integer","title":"Jobs With Salary"},"cv_strength":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cv Strength"}},"type":"object","required":["last_updated","total_jobs","avg_min_salary","avg_max_salary","lowest_salary","highest_salary","jobs_with_salary","cv_strength"],"title":"BoardAnalytics"},"BoardCreate":{"properties":{"user_id":{"type":"string","title":"User Id"},"prompt":{"type":"string","title":"Prompt"},"refresh_interval":{"type":"integer","title":"Refresh Interval","default":86400}},"type":"object","required":["user_id","prompt"],"title":"BoardCreate"},"BoardJobsResponse":{"properties":{"total_jobs":{"type":"integer","title":"Total Jobs"},"jobs":{"items":{"$ref":"#/components/schemas/DetailedJobPost"},"type":"array","title":"Jobs"},"similar_boards":{"items":{"type":"object"},"type":"array","title":"Similar Boards"}},"type":"object","required":["total_jobs","jobs","similar_boards"],"title":"BoardJobsResponse"},"Body_upload_cv_cv_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_cv_cv_post"},"CVResponse":{"properties":{"sections":{"type":"object","title":"Sections"},"optimization_notes":{"type":"string","title":"Optimization Notes"},"keywords_included":{"items":{"type":"string"},"type":"array","title":"Keywords Included"}},"type":"object","required":["sections","optimization_notes","keywords_included"],"title":"CVResponse"},"CoverLetterResponse":{"properties":{"content":{"type":"object","title":"Content"},"tone_analysis":{"type":"string","title":"Tone Analysis"},"key_alignments":{"items":{"type":"string"},"type":"array","title":"Key Alignments"},"customization_notes":{"type":"string","title":"Customization Notes"}},"type":"object","required":["content","tone_analysis","key_alignments","customization_notes"],"title":"CoverLetterResponse"},"DetailedJobPost":{"properties":{"id":{"type":"string","title":"Id"},"title":{"type":"string","title":"Title"},"company":{"type":"string","title":"Company"},"location":{"type":"string","title":"Location"},"description":{"type":"string","title":"Description"},"salary_estimate":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Salary Estimate"},"match_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Match Score"},"match_rationale":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Match Rationale"},"company_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Url"},"company_industry":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Industry"},"company_country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Country"},"company_addresses":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Company Addresses"},"company_employees_label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Employees Label"},"company_revenue_label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Revenue Label"},"company_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Description"},"company_logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Logo"},"job_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Url"},"location_country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Country"},"location_city":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location City"},"location_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location State"},"job_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Type"},"job_function":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Function"},"salary_interval":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Salary Interval"},"salary_min_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Salary Min Amount"},"salary_max_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Salary Max Amount"},"salary_currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Salary Currency"},"salary_source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Salary Source"},"date_posted":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date Posted"},"emails":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Emails"},"is_remote":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Remote"},"job_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Level"},"search_term":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search Term"}},"type":"object","required":["id","title","company","location","description","salary_estimate","match_score","match_rationale","company_url","company_industry","company_country","company_addresses","company_employees_label","company_revenue_label","company_description","company_logo","job_url","location_country","location_city","location_state","job_type","job_function","salary_interval","salary_min_amount","salary_max_amount","salary_currency","salary_source","date_posted","emails","is_remote","job_level","search_term"],"title":"DetailedJobPost"},"FastTrackBoardCreate":{"properties":{"prompt":{"type":"string","title":"Prompt"}},"type":"object","required":["prompt"],"title":"FastTrackBoardCreate"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"JobPost":{"properties":{"id":{"type":"string","title":"Id"},"title":{"type":"string","title":"Title"},"company":{"type":"string","title":"Company"},"location":{"type":"string","title":"Location"},"description":{"type":"string","title":"Description"},"salary_estimate":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Salary Estimate"},"match_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Match Score"},"match_rationale":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Match Rationale"}},"type":"object","required":["id","title","company","location","description","salary_estimate","match_score","match_rationale"],"title":"JobPost"},"Profile":{"properties":{"user_id":{"type":"string","title":"User Id"},"employment_history":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Employment History"},"education":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Education"},"certifications":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Certifications"}},"type":"object","required":["user_id","employment_history","education","certifications"],"title":"Profile"},"TestBoardCreate":{"properties":{"prompt":{"type":"string","title":"Prompt"},"batch_size":{"type":"integer","title":"Batch Size","default":5},"char_limit":{"type":"integer","title":"Char Limit","default":400000},"sleep_time":{"type":"integer","title":"Sleep Time","default":2}},"type":"object","required":["prompt"],"title":"TestBoardCreate"},"UserProfile":{"properties":{"user_id":{"type":"string","title":"User Id"},"boards":{"items":{"type":"object"},"type":"array","title":"Boards"},"cvs":{"items":{"type":"object"},"type":"array","title":"Cvs"},"profile":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Profile"}},"type":"object","required":["user_id","boards","cvs","profile"],"title":"UserProfile"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}},"tags":[{"name":"Users","description":"User management operations"},{"name":"Profiles","description":"Profile management operations"},{"name":"Boards","description":"Job board operations"},{"name":"CV Management","description":"CV upload and generation"},{"name":"Jobs","description":"Job search and management"},{"name":"Analytics","description":"Board and job analytics"},{"name":"Testing","description":"Test endpoints for development"}]}